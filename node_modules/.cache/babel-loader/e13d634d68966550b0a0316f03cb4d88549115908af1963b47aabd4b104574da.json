{"ast":null,"code":"import _slicedToArray from\"/home/mrcode/Desktop/little-lemon-meta/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useReducer,useEffect}from\"react\";import{Navigate,Route,Routes,useNavigate}from\"react-router-dom\";import Booking from\"./Booking\";import ConfirmedBooking from\"./ConfirmedBooking\";import Header from\"./Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Main=function Main(){// const [availableTimes, setAvailableTimes] = useState([\"17:00\", \"18:00\", \"19:00\", \"20:00\", \"21:00\", \"22:00\"])\n//Chrome was blocking running the script on the index page so I added it here. \"https://chromestatus.com/feature/5629709824032768\"\nvar seededRandom=function seededRandom(seed){var m=Math.pow(2,35)-31;var a=185852;var s=seed%m;return function(){return(s=s*a%m)/m;};};var fetchAPI=function fetchAPI(date){var result=[];var random=seededRandom(date.getDate());for(var i=17;i<=23;i++){if(random()<0.5){result.push(i+':00');}if(random()<0.5){result.push(i+':30');}}return result;};var submitAPI=function submitAPI(formData){return true;};var initialState={availableTimes:fetchAPI(new Date())};var _useReducer=useReducer(updateTimes,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];function updateTimes(state,date){return{availableTimes:fetchAPI(new Date(date))};}var navigate=useNavigate();function submitForm(formData){if(submitAPI(formData)){navigate(\"/confirmed\");}}return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Header,{})}),/*#__PURE__*/_jsx(Route,{path:\"/booking\",element:/*#__PURE__*/_jsx(Booking,{availableTimes:state,dispatch:dispatch,submitForm:submitForm})}),/*#__PURE__*/_jsx(Route,{path:\"/confirmed\",element:/*#__PURE__*/_jsx(ConfirmedBooking,{})})]})});};export default Main;","map":{"version":3,"names":["React","useReducer","useEffect","Navigate","Route","Routes","useNavigate","Booking","ConfirmedBooking","Header","Main","seededRandom","seed","m","a","s","fetchAPI","date","result","random","getDate","i","push","submitAPI","formData","initialState","availableTimes","Date","updateTimes","state","dispatch","navigate","submitForm"],"sources":["/home/mrcode/Desktop/little-lemon-meta/src/components/Main.js"],"sourcesContent":["import React, { useReducer, useEffect } from \"react\";\nimport { Navigate, Route, Routes, useNavigate } from \"react-router-dom\";\nimport Booking from \"./Booking\";\nimport ConfirmedBooking from \"./ConfirmedBooking\";\nimport Header from \"./Header\";\n\n\nconst Main = () => {\n\n    // const [availableTimes, setAvailableTimes] = useState([\"17:00\", \"18:00\", \"19:00\", \"20:00\", \"21:00\", \"22:00\"])\n\n    //Chrome was blocking running the script on the index page so I added it here. \"https://chromestatus.com/feature/5629709824032768\"\n    const seededRandom = function (seed) {\n        var m = 2**35 - 31;\n        var a = 185852;\n        var s = seed % m;\n        return function () {\n            return (s = s * a % m) / m;\n        };\n    }\n\n    const fetchAPI = function(date) {\n        let result = [];\n        let random = seededRandom(date.getDate());\n\n        for(let i = 17; i <= 23; i++) {\n            if(random() < 0.5) {\n                result.push(i + ':00');\n            }\n            if(random() < 0.5) {\n                result.push(i + ':30');\n            }\n        }\n        return result;\n    };\n    const submitAPI = function(formData) {\n        return true;\n    };\n\n    const initialState = {availableTimes:  fetchAPI(new Date())}\n    const [state, dispatch] = useReducer(updateTimes, initialState);\n\n    function updateTimes(state, date) {\n        return {availableTimes: fetchAPI(new Date(date))}\n    }\n    const navigate = useNavigate();\n    function submitForm (formData) {\n        if (submitAPI(formData)) {\n            navigate(\"/confirmed\")\n        }\n    }\n\n    return(\n        <main>\n            <Routes>\n                <Route path=\"/\" element={<Header />} />\n                <Route path=\"/booking\" element={<Booking availableTimes={state} dispatch={dispatch} submitForm={submitForm}/>} />\n                <Route path=\"/confirmed\" element={<ConfirmedBooking/> } />\n            </Routes>\n        </main>\n\n\n    )\n}\n\nexport default Main;"],"mappings":"4HAAA,MAAOA,MAAK,EAAIC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACpD,OAASC,QAAQ,CAAEC,KAAK,CAAEC,MAAM,CAAEC,WAAW,KAAQ,kBAAkB,CACvE,MAAOC,QAAO,KAAM,WAAW,CAC/B,MAAOC,iBAAgB,KAAM,oBAAoB,CACjD,MAAOC,OAAM,KAAM,UAAU,CAAC,wFAG9B,GAAMC,KAAI,CAAG,QAAPA,KAAI,EAAS,CAEf;AAEA;AACA,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAaC,IAAI,CAAE,CACjC,GAAIC,EAAC,CAAG,UAAC,CAAE,EAAE,EAAG,EAAE,CAClB,GAAIC,EAAC,CAAG,MAAM,CACd,GAAIC,EAAC,CAAGH,IAAI,CAAGC,CAAC,CAChB,MAAO,WAAY,CACf,MAAO,CAACE,CAAC,CAAGA,CAAC,CAAGD,CAAC,CAAGD,CAAC,EAAIA,CAAC,CAC9B,CAAC,CACL,CAAC,CAED,GAAMG,SAAQ,CAAG,QAAXA,SAAQ,CAAYC,IAAI,CAAE,CAC5B,GAAIC,OAAM,CAAG,EAAE,CACf,GAAIC,OAAM,CAAGR,YAAY,CAACM,IAAI,CAACG,OAAO,EAAE,CAAC,CAEzC,IAAI,GAAIC,EAAC,CAAG,EAAE,CAAEA,CAAC,EAAI,EAAE,CAAEA,CAAC,EAAE,CAAE,CAC1B,GAAGF,MAAM,EAAE,CAAG,GAAG,CAAE,CACfD,MAAM,CAACI,IAAI,CAACD,CAAC,CAAG,KAAK,CAAC,CAC1B,CACA,GAAGF,MAAM,EAAE,CAAG,GAAG,CAAE,CACfD,MAAM,CAACI,IAAI,CAACD,CAAC,CAAG,KAAK,CAAC,CAC1B,CACJ,CACA,MAAOH,OAAM,CACjB,CAAC,CACD,GAAMK,UAAS,CAAG,QAAZA,UAAS,CAAYC,QAAQ,CAAE,CACjC,MAAO,KAAI,CACf,CAAC,CAED,GAAMC,aAAY,CAAG,CAACC,cAAc,CAAGV,QAAQ,CAAC,GAAIW,KAAI,EAAE,CAAC,CAAC,CAC5D,gBAA0B1B,UAAU,CAAC2B,WAAW,CAAEH,YAAY,CAAC,4CAAxDI,KAAK,iBAAEC,QAAQ,iBAEtB,QAASF,YAAW,CAACC,KAAK,CAAEZ,IAAI,CAAE,CAC9B,MAAO,CAACS,cAAc,CAAEV,QAAQ,CAAC,GAAIW,KAAI,CAACV,IAAI,CAAC,CAAC,CAAC,CACrD,CACA,GAAMc,SAAQ,CAAGzB,WAAW,EAAE,CAC9B,QAAS0B,WAAU,CAAER,QAAQ,CAAE,CAC3B,GAAID,SAAS,CAACC,QAAQ,CAAC,CAAE,CACrBO,QAAQ,CAAC,YAAY,CAAC,CAC1B,CACJ,CAEA,mBACI,mCACI,MAAC,MAAM,yBACH,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,MAAM,IAAI,EAAG,cACvC,KAAC,KAAK,EAAC,IAAI,CAAC,UAAU,CAAC,OAAO,cAAE,KAAC,OAAO,EAAC,cAAc,CAAEF,KAAM,CAAC,QAAQ,CAAEC,QAAS,CAAC,UAAU,CAAEE,UAAW,EAAG,EAAG,cACjH,KAAC,KAAK,EAAC,IAAI,CAAC,YAAY,CAAC,OAAO,cAAE,KAAC,gBAAgB,IAAI,EAAG,GACrD,EACN,CAIf,CAAC,CAED,cAAetB,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}